import { Pipe, PipeTransform } from '@angular/core';

@Pipe({
  name: 'morze'
})
export class MorzePipe implements PipeTransform {
  dictionary = {
    'a': '.-',
    'б': '-...',
    'в': '.--',
    'г': '--.',
    'д': '-..',
    'е': '.',
    'ё': '.',
    'ж': '...-',
    'з': '--..',
    'и': '..',
    'й': '.---',
    'к': '-.-',
    'л': '.-..',
    'м': '--',
    'н': '-.',
    'о': '---',
    'п': '.--.',
    'р': '.-.',
    'с': '...',
    'т': '-',
    'у': '..-',
    'ф': '..-.',
    'х': '....',
    'ц': '-.-.',
    'ч': '---.',
    'ш': '----',
    'щ': '--.-',
    'ъ': '-..-',
    'ы': '-.--',
    'ь': '-..-',
    'э': '..-..',
    'ю': '..--',
    'я': '.-.-',
    'b': '-...',
    'w': '.--',
    'g': '--.',
    'd': '-..',
    'e': '.',
    'а': '.-',
    'v': '...-',
    'z': '--..',
    'i': '..',
    'j': '.---',
    'k': '-.-',
    'l': '.-..',
    'm': '--',
    'n': '-.',
    'o': '---',
    'p': '.--.',
    'r': '.-.',
    's': '...',
    't': '-',
    'u': '..-',
    'f': '..-.',
    'h': '....',
    'c': '-.-.',
    'q': '--.-',
    'y': '-.--',
    'x': '-..-',
    '1': '.----',
    '2': '..---',
    '3': '...--',
    '4': '....-',
    '5': '.....',
    '6': '-....',
    '7': '--...',
    '8': '---..',
    '9': '----.',
    '0': '-----',
    '.': '......',
    ':': '---...',
    ',': '.-.-.-',
    ';': '-.-.-.',
    '(': '-.--.-',
    ')': '-.--.-',
    '`': '.----.',
    '\'': '.-..-.',
    '"': '.-..-.',
    '-': '-....-',
    '\\': '-..-.',
    '/': '-..-.',
    '?': '..--..',
    '!': '--..--',
    ' ': '\xa0\xa0\xa0',
    '@': '.--.-.'
  };
  transform(value: string): string {
    let res = '';
    for (let i = 0; i < value.length; i++) {
      res += this.dictionary[value[i].toLowerCase()];
      if (i !== value.length - 1) res += '\xa0';
    }
    return res;
  }
}
